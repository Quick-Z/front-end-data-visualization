import{q as e,s as t,A as a,k as i,B as l,b as n,i as s,o as r}from"./vendor.ce0b2847.js";import{u as o,h as d,j as u,k as h,l as p,n as c,S as v,o as g,p as m,q as f,s as y,G as w,t as M,v as b,R as I,Z as S,C as P,w as L,x,B as C,y as F,z as q,i as D}from"./index.201f4293.js";o([d,u]),o(h),p({type:"series.liquidFill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var a=c(e.data,{coordDimensions:["value"]}),i=new v(a,this);return i.initData(e.data),i},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});var O=g({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,t){null==t.radiusY&&(t.radiusY=t.radius);for(var a=Math.max(2*Math.ceil(2*t.radius/t.waveLength*4),8);t.phase<2*-Math.PI;)t.phase+=2*Math.PI;for(;t.phase>0;)t.phase-=2*Math.PI;var i=t.phase/Math.PI/2*t.waveLength,l=t.cx-t.radius+i-2*t.radius;e.moveTo(l,t.waterLevel);for(var n=0,s=0;s<a;++s){var r=s%4,o=A(s*t.waveLength/4,r,t.waveLength,t.amplitude);e.bezierCurveTo(o[0][0]+l,-o[0][1]+t.waterLevel,o[1][0]+l,-o[1][1]+t.waterLevel,o[2][0]+l,-o[2][1]+t.waterLevel),s===a-1&&(n=o[2][0])}t.inverse?(e.lineTo(n+l,t.cy-t.radiusY),e.lineTo(l,t.cy-t.radiusY),e.lineTo(l,t.waterLevel)):(e.lineTo(n+l,t.cy+t.radiusY),e.lineTo(l,t.cy+t.radiusY),e.lineTo(l,t.waterLevel)),e.closePath()}});function A(e,t,a,i){return 0===t?[[e+.5*a/Math.PI/2,i/2],[e+.5*a/Math.PI,i],[e+a/4,i]]:1===t?[[e+.5*a/Math.PI/2*(Math.PI-2),i],[e+.5*a/Math.PI/2*(Math.PI-1),i/2],[e+a/4,0]]:2===t?[[e+.5*a/Math.PI/2,-i/2],[e+.5*a/Math.PI,-i],[e+a/4,-i]]:[[e+.5*a/Math.PI/2*(Math.PI-2),-i],[e+.5*a/Math.PI/2*(Math.PI-1),-i/2],[e+a/4,0]]}const T=L;m({type:"liquidFill",render:function(e,t,a){var i=this.group;i.removeAll();var l=e.getData(),n=l.getItemModel(0),s=n.get("center"),r=n.get("radius"),o=a.getWidth(),d=a.getHeight(),u=Math.min(o,d),h=0,p=0,c=e.get("outline.show");c&&(h=e.get("outline.borderDistance"),p=T(e.get("outline.itemStyle.borderWidth"),u));var v,g,m,L=T(s[0],o),D=T(s[1],d),A=!1,Y=e.get("shape");("container"===Y?(A=!0,g=[(v=[o/2,d/2])[0]-p/2,v[1]-p/2],m=[T(h,o),T(h,d)],r=[Math.max(g[0]-m[0],0),Math.max(g[1]-m[1],0)]):(g=(v=T(r,u)/2)-p/2,m=T(h,u),r=Math.max(g-m,0)),c)&&(G().style.lineWidth=p,i.add(G()));var B=A?0:L-r,E=A?0:D-r,k=null;i.add(function(){var t=_(r);t.setStyle(e.getModel("backgroundStyle").getItemStyle()),t.style.fill=null,t.z2=5;var a=_(r);a.setStyle(e.getModel("backgroundStyle").getItemStyle()),a.style.stroke=null;var i=new w;return i.add(t),i.add(a),i}());var z=this._data,W=[];function _(e,t){if(Y){if(0===Y.indexOf("path://")){var a=x(Y.slice(7),{}),i=a.getBoundingRect(),l=i.width,n=i.height;l>n?(n*=2*e/l,l=2*e):(l*=2*e/n,n=2*e);var s=t?0:L-l/2,r=t?0:D-n/2;return a=x(Y.slice(7),{},new C(s,r,l,n)),t&&(a.position=[-l/2,-n/2]),a}if(A){var o=t?-e[0]:L-e[0],d=t?-e[1]:D-e[1];return F("rect",o,d,2*e[0],2*e[1])}d=t?-e:D-e;return"pin"===Y?d+=e:"arrow"===Y&&(d-=e),F(Y,o=t?-e:L-e,d,2*e,2*e)}return new q({shape:{cx:t?0:L,cy:t?0:D,r:e}})}function G(){var t=_(v);return t.style.fill=null,t.setStyle(e.getModel("outline.itemStyle").getItemStyle()),t}function U(t,a,i){var n=A?r[0]:r,s=A?d/2:r,o=l.getItemModel(t),u=o.getModel("itemStyle"),h=o.get("phase"),p=T(o.get("amplitude"),2*s),c=T(o.get("waveLength"),2*n),v=s-l.get("value",t)*s*2;h=i?i.shape.phase:"auto"===h?t*Math.PI/4:h;var g=u.getItemStyle();if(!g.fill){var m=e.get("color"),f=t%m.length;g.fill=m[f]}var y=new O({shape:{waveLength:c,radius:n,radiusY:s,cx:2*n,cy:0,waterLevel:v,amplitude:p,phase:h,inverse:a},style:g,position:[L,D]});y.shape._waterLevel=v;var w=o.getModel("emphasis.itemStyle").getItemStyle();w.lineWidth=0,y.ensureState("emphasis").style=w,M(y);var b=_(r,!0);return b.setStyle({fill:"white"}),y.setClipPath(b),y}function j(e,t,a){var i=l.getItemModel(e),n=i.get("period"),s=i.get("direction"),r=l.get("value",e),o=i.get("phase");o=a?a.shape.phase:"auto"===o?e*Math.PI/4:o;var d,u,h=0;"auto"===n?(d=5e3,h=0===(u=l.count())?d:d*(.2+(u-e)/u*.8)):h="function"==typeof n?n(r,e):n;var p=0;"right"===s||null==s?p=Math.PI:"left"===s?p=-Math.PI:"none"===s?p=0:console.error("Illegal direction value for liquid fill."),"none"!==s&&i.get("waveAnimation")&&t.animate("shape",!0).when(0,{phase:o}).when(h/2,{phase:p+o}).when(h,{phase:2*p+o}).during((function(){k&&k.dirty(!0)})).start()}l.diff(z).add((function(t){var a=U(t,!1),n=a.shape.waterLevel;a.shape.waterLevel=A?d/2:r,f(a,{shape:{waterLevel:n}},e),a.z2=2,j(t,a,null),i.add(a),l.setItemGraphicEl(t,a),W.push(a)})).update((function(t,a){for(var n=z.getItemGraphicEl(a),s=U(t,!1,n),r={},o=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],u=0;u<o.length;++u){var h=o[u];s.shape.hasOwnProperty(h)&&(r[h]=s.shape[h])}var p={},c=["fill","opacity","shadowBlur","shadowColor"];for(u=0;u<c.length;++u){h=c[u];s.style.hasOwnProperty(h)&&(p[h]=s.style[h])}A&&(r.radiusY=d/2),y(n,{shape:r},e),n.useStyle(p),n.position=s.position,n.setClipPath(s.getClipPath()),n.shape.inverse=s.inverse,j(t,n,n),i.add(n),l.setItemGraphicEl(t,n),W.push(n)})).remove((function(e){var t=z.getItemGraphicEl(e);i.remove(t)})).execute(),n.get("label.show")&&i.add(function(t){var a=n.getModel("label");function i(){var t=e.getFormattedLabel(0,"normal"),a=100*l.get("value",0),i=l.getName(0)||e.name;return isNaN(a)||(i=a.toFixed(0)+"%"),null==t?i:t}var s={z2:10,shape:{x:B,y:E,width:2*(A?r[0]:r),height:2*(A?r[1]:r)},style:{fill:"transparent"},textConfig:{position:a.get("position")||"inside"},silent:!0},o={style:{text:i(),textAlign:a.get("align"),textVerticalAlign:a.get("baseline")}};Object.assign(o.style,b(a));var d=new I(s),u=new I(s);u.disableLabelAnimation=!0,d.disableLabelAnimation=!0;var h=new S(o),p=new S(o);d.setTextContent(h),u.setTextContent(p);var c=a.get("insideColor");p.style.fill=c;var v=new w;v.add(d),v.add(u);var g=_(r,!0);return(k=new P({shape:{paths:t},position:[L,D]})).setClipPath(g),u.setClipPath(k),v}(W)),this._data=l},dispose:function(){}});e("data-v-51055abd");const Y={class:"liquid__x"};t();const B={setup(e){const t=a(),o=i(null),d=i(null),u=i(null),h=i(null),p=i(null),c=i(null),v=i(null),g=i(null),m=i(null);return l((()=>{t.commit("setComponentPath","src/views/ECharts/Basic/pages/LiquidFill/LiquidFill.vue"),D(o.value).setOption({series:[{type:"liquidFill",data:[.6]}]}),D(d.value).setOption({series:[{type:"liquidFill",data:[.68,.5,.4,.3,{value:.2,itemStyle:{color:"#3f72af",opacity:.6},emphasis:{itemStyle:{opacity:.9}}}],color:["#ffde7d","#f6416c","#f8f3d4","#00b8a9"],itemStyle:{opacity:.4},emphasis:{itemStyle:{opacity:.8}}}]}),D(u.value).setOption({series:[{type:"liquidFill",data:[.68,.5,.4,.3],waveAnimation:!1,animationDuration:0,animationDurationUpdate:0}]}),D(h.value).setOption({series:[{type:"liquidFill",data:[.68,.5,.4,.3],waveAnimation:!1,animationDuration:0,animationDurationUpdate:0,amplitude:0}]}),D(p.value).setOption({series:[{type:"liquidFill",data:[{value:.68,direction:"left"},{value:.34,direction:"right"}]}]}),D(c.value).setOption({series:[{type:"liquidFill",data:[.68,.5,.4,.3],backgroundStyle:{borderWidth:10,borderColor:"red",color:"yellow"}}]}),D(v.value).setOption({series:[{type:"liquidFill",data:[.6,.5,.4,.3],shape:"diamond",outline:{show:!0,borderDistance:30,itemStyle:{borderWidth:4,borderColor:"hotpink",shadowBlur:"none"}}}]}),D(g.value).setOption({series:[{type:"liquidFill",data:[.6,.5,.4,.3],outline:{show:!1}}]}),D(m.value).setOption({series:[{type:"liquidFill",data:[.6,.5,.4,.3],shape:"container",radius:"60%",outline:{show:!1}}]})})),(e,t)=>(r(),n("div",Y,[s("div",{class:"chart",ref:o},null,512),s("div",{class:"chart",ref:d},null,512),s("div",{class:"chart",ref:u},null,512),s("div",{class:"chart",ref:h},null,512),s("div",{class:"chart",ref:p},null,512),s("div",{class:"chart",ref:c},null,512),s("div",{class:"chart",ref:v},null,512),s("div",{class:"chart",ref:g},null,512),s("div",{class:"chart",ref:m},null,512)]))},__scopeId:"data-v-51055abd"};export{B as default};
