import{p as e,b as t,A as n,d as a,C as l,f as i,J as s,O as o,g as u,P as c,Q as r,R as d,o as f}from"./vendor.ab550d3c.js";import{f as v}from"./fabric.7a42a7e0.js";e("data-v-64baa529");const p={class:"context__x"},h=u("canvas",{width:"600",height:"600",id:"canvas",style:{border:"1px solid #ccc"}},null,-1),m=u("div",null,"什么都不做",-1),x=u("div",null,"什么都不做",-1),b=u("div",null,"什么都不做",-1),g=u("div",null,"什么都不做",-1);t();const w={setup(e){const t=n(),w=a(null);let C=null;const y=a(!1),R=a("");let _=null;async function k(e){if(3===e.button&&e.target){_=e.target,y.value=!0,await d();const t=w.value.offsetWidth,n=w.value.offsetHeight;let a=e.pointer.x,l=e.pointer.y;C.width-a<=t&&(a-=t),C.height-l<=n&&(l-=n),R.value=`\n      left: ${a}px;\n      top: ${l}px;\n    `}else M()}function M(){y.value=!1,_=null}function j(){C.remove(_),C.requestRenderAll(),M()}return l((()=>{t.commit("setComponentPath","src/views/FabricJS/Demo/pages/ContextMenu/ContextMenu.vue"),function(){C=new v.fabric.Canvas("canvas",{fireRightClick:!0,stopContextMenu:!0});const e=new v.fabric.Rect({left:210,top:210,fill:"orange",width:40,height:40}),t=new v.fabric.Rect({left:110,top:110,fill:"pink",width:40,height:40,rx:10,ry:10}),n=new v.fabric.Circle({radius:30,fill:"green",left:20,top:20});C.add(e,t,n),C.on("mouse:down",k)}()})),(e,t)=>(f(),i("div",p,[h,s(u("div",{id:"menu",class:"menu-x",style:c(R.value),onContextmenu:t[0]||(t[0]=r((()=>{}),["prevent"])),ref:(e,t)=>{t.menu=e,w.value=e}},[m,x,b,g,u("div",{onClick:j},"删除")],36),[[o,y.value]])]))},__scopeId:"data-v-64baa529"};export{w as default};
