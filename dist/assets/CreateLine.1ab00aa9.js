import{A as e,d as a,C as n,r as l,f as o,a as t,w as s,u as r,S as i,g as u,o as c}from"./vendor.da7f5a2b.js";import{f as d}from"./fabric.630692b0.js";const f=u("canvas",{id:"canvas",width:"600",height:"600",style:{border:"1px solid #ccc"}},null,-1),b={setup(u){const b=e();let m=null,v=null,p=null,g=null,C=a("default");function w(e){switch(e){case"default":m.selection=!0,m.selectionColor="rgba(100, 100, 255, 0.3)",m.selectionBorderColor="rgba(255, 255, 255, 0.3)",m.skipTargetFind=!1;break;case"line":m.selectionColor="transparent",m.selectionBorderColor="transparent",m.skipTargetFind=!0}}function y(e){v=e.absolutePointer,"line"===C.value&&(g=new d.fabric.Line([v.x,v.y,v.x,v.y],{stroke:"rgba(0, 0, 0, 0.2)"}),m.add(g))}function h(e){if("line"===C.value&&g){const a=e.absolutePointer;g.set("x2",a.x),g.set("y2",a.y),m.requestRenderAll()}}function x(e){p=e.absolutePointer,"line"===C.value&&(JSON.stringify(v)===JSON.stringify(p)?m.remove(g):g.set("stroke","#000"),g=null)}return n((()=>{b.commit("setComponentPath","src/views/FabricJS/Demo/pages/CreateLine/CreateLine.vue"),m=new d.fabric.Canvas("canvas"),m.on("mouse:down",y),m.on("mouse:move",h),m.on("mouse:up",x)})),(e,a)=>{const n=l("el-option"),u=l("el-select");return c(),o("div",null,[t(u,{modelValue:r(C),"onUpdate:modelValue":a[0]||(a[0]=e=>i(C)?C.value=e:C=e),onChange:w},{default:s((()=>[t(n,{label:"默认(框选)",value:"default"}),t(n,{label:"线段",value:"line"})])),_:1},8,["modelValue"]),f])}}};export{b as default};
