import{C,b as x,A as D,o as S,e as j}from"./vendor.ab263734.js";import{T as F}from"./TileImage.2b84d652.js";import{O as b}from"./OSM.bd1bc34c.js";import{a as m,S as y,L as M,b as O,e as T,c as E,d as _}from"./Vector.796a2063.js";import{d as P,ar as R,E as v,j as g,ce as z,aD as I,cf as L,cg as V,J as k,bc as w,g as A,M as G,V as B}from"./ol.088d4eef.js";import{_ as N}from"./index.ad29fbe7.js";import{T as X}from"./Text.05ee771a.js";import"./XYZ.d2af7eca.js";var H=function(){var a=function(n,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},a(n,e)};return function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),U=function(a){H(n,a);function n(e){var t=a.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return t.resolution=void 0,t.distance=e.distance!==void 0?e.distance:20,t.minDistance=e.minDistance||0,t.interpolationRatio=0,t.features=[],t.geometryFunction=e.geometryFunction||function(r){var s=r.getGeometry();return P(s.getType()==R.POINT,10),s},t.createCustomCluster_=e.createCluster,t.source=null,t.boundRefresh_=t.refresh.bind(t),t.updateDistance(t.distance,t.minDistance),t.setSource(e.source||null),t}return n.prototype.clear=function(e){this.features.length=0,a.prototype.clear.call(this,e)},n.prototype.getDistance=function(){return this.distance},n.prototype.getSource=function(){return this.source},n.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.resolution=t,this.refresh())},n.prototype.setDistance=function(e){this.updateDistance(e,this.minDistance)},n.prototype.setMinDistance=function(e){this.updateDistance(this.distance,e)},n.prototype.getMinDistance=function(){return this.minDistance},n.prototype.setSource=function(e){this.source&&this.source.removeEventListener(v.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(v.CHANGE,this.boundRefresh_),this.refresh()},n.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},n.prototype.updateDistance=function(e,t){var r=e===0?0:Math.min(t,e)/e,s=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=t,this.interpolationRatio=r,s&&this.refresh()},n.prototype.cluster=function(){if(!(this.resolution===void 0||!this.source))for(var e=A(),t=this.distance*this.resolution,r=this.source.getFeatures(),s={},c=0,f=r.length;c<f;c++){var o=r[c];if(!(g(o)in s)){var l=this.geometryFunction(o);if(l){var h=l.getCoordinates();z(h,e),I(e,t,e);var d=this.source.getFeaturesInExtent(e).filter(function(u){var i=g(u);return i in s?!1:(s[i]=!0,!0)});this.features.push(this.createCluster(d,e))}}}},n.prototype.createCluster=function(e,t){for(var r=[0,0],s=e.length-1;s>=0;--s){var c=this.geometryFunction(e[s]);c?L(r,c.getCoordinates()):e.splice(s,1)}V(r,1/e.length);var f=k(t),o=this.interpolationRatio,l=new w([r[0]*(1-o)+f[0]*o,r[1]*(1-o)+f[1]*o]);return this.createCustomCluster_?this.createCustomCluster_(l,e):new m({geometry:l,features:e})},n}(y),J=U;const Y={id:"map",class:"map__x"},Z={setup(a){const n=C(),e=x(null);let t=2e4,r=[],s=45e5;for(let u=0;u<t;++u){let i=[2*s*Math.random()-s,2*s*Math.random()-s];r[u]=new m(new w(i))}let c=new y({features:r}),f=new J({distance:parseInt(40,10),source:c}),o={},l=new M({source:f,style:u=>{let i=u.get("features").length,p=o[i];return p||(p=new O({image:new T({radius:10,stroke:new E({color:"#fff"}),fill:new _({color:"#3399cc"})}),text:new X({text:i.toString(),fill:new _({color:"#fff"})})}),o[i]=p),p}}),h=new F({source:new b});function d(){e.value=new G({target:"map",layers:[h,l],view:new B({center:[0,0],zoom:2})})}return D(()=>{n.commit("setComponentPath","src/views/OpenLayers/Basic/pages/Polymerization/Polymerization.vue"),d()}),(u,i)=>(S(),j("div",Y))}};var ne=N(Z,[["__scopeId","data-v-7c6816bf"]]);export{ne as default};
