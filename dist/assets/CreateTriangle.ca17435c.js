import{A as e,d as a,C as t,r as l,f as n,a as o,w as s,u as r,S as i,g as u,o as c}from"./vendor.da7f5a2b.js";import{f as d}from"./fabric.630692b0.js";const f=u("canvas",{id:"canvas",width:"600",height:"600",style:{border:"1px solid #ccc"}},null,-1),g={setup(u){const g=e();let b=null,p=null,m=null,v=null,h=a("default");function y(e){switch(e){case"default":b.selection=!0,b.selectionColor="rgba(100, 100, 255, 0.3)",b.selectionBorderColor="rgba(255, 255, 255, 0.3)",b.skipTargetFind=!1;break;case"triangle":b.selectionColor="transparent",b.selectionBorderColor="transparent",b.skipTargetFind=!0}}function C(e){p=e.absolutePointer,"triangle"===h.value&&(v=new d.fabric.Triangle({top:p.y,left:p.x,width:0,height:0,fill:"transparent",stroke:"rgba(0, 0, 0, 0.2)"}),b.add(v))}function w(e){if("triangle"===h.value&&v){const a=e.absolutePointer;let t=Math.abs(p.x-a.x),l=Math.abs(p.y-a.y),n=a.y>p.y?p.y:a.y,o=a.x>p.x?p.x:a.x;v.set("width",t),v.set("height",l),v.set("top",n),v.set("left",o),b.requestRenderAll()}}function x(e){m=e.absolutePointer,"triangle"===h.value&&(JSON.stringify(p)===JSON.stringify(m)?b.remove(v):v.set("stroke","#000"),v=null)}return t((()=>{g.commit("setComponentPath","src/views/FabricJS/Demo/pages/CreateTriangle/CreateTriangle.vue"),b=new d.fabric.Canvas("canvas"),b.on("mouse:down",C),b.on("mouse:move",w),b.on("mouse:up",x)})),(e,a)=>{const t=l("el-option"),u=l("el-select");return c(),n("div",null,[o(u,{modelValue:r(h),"onUpdate:modelValue":a[0]||(a[0]=e=>i(h)?h.value=e:h=e),onChange:y},{default:s((()=>[o(t,{label:"默认(框选)",value:"default"}),o(t,{label:"三角形",value:"triangle"})])),_:1},8,["modelValue"]),f])}}};export{g as default};
